<!-- templates/architecture.html -->
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>çƒ½ç«æˆ˜å›½ - å»ºç­‘ç³»ç»Ÿ</title>
    <style>
        body {
            font-family: "Microsoft YaHei", sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }
        .header {
            background: #4a6fa5;
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .resources {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }
        .resource-item {
            background: white;
            padding: 8px 12px;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .building-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 15px;
        }
        .building-card {
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            text-align: center;
        }
        .building-title {
            font-weight: bold;
            margin-bottom: 8px;
            text-transform: capitalize;
        }
        .upgrade-btn {
            margin-top: 10px;
            padding: 6px 12px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .upgrade-btn:hover {
            background: #45a049;
        }
        .upgrading {
            opacity: 0.6;
            background: #eee;
        }
        .upgrading .upgrade-btn {
            background: #ccc;
            cursor: not-allowed;
        }
    </style>
</head>
<body>

<div class="header">
    <h2>ğŸ° å»ºç­‘ç³»ç»Ÿ</h2>
</div>

<!-- æ˜¾ç¤ºèµ„æº -->
<div class="resources">
    <div class="resource-item">ğŸªµ æœ¨æ: {{.Resource.Wood}}</div>
    <div class="resource-item">ğŸ§± çŸ³å¤´: {{.Resource.Stone}}</div>
    <div class="resource-item">ğŸ’° é‡‘å¸: {{.Resource.Gold}}</div>
    <div class="resource-item">ğŸŒ¾ ç²®è‰: {{.Resource.Food}}</div>
</div>

<!-- æ˜¾ç¤ºå»ºç­‘ -->
<h3>æˆ‘çš„å»ºç­‘</h3>
<div class="building-grid">
    {{range .Buildings}}
    <div class="building-card {{if .IsUpgrading}}upgrading{{end}}">
        <div class="building-title">{{.Type}}</div>
        <div>ç­‰çº§: {{.Level}}</div>
        {{if .IsUpgrading}}
        <div style="color: orange; margin-top: 8px;">â³ å‡çº§ä¸­...</div>
        {{else}}
        <form method="POST" action="/upgrade_building">
            <input type="hidden" name="building_id" value="{{.ID}}">
            <button type="submit" class="upgrade-btn">å‡çº§</button>
        </form>
        {{end}}
    </div>
    {{end}}
</div>

<a href="/beacon/main">â† è¿”å›</a>

</body>
</html>